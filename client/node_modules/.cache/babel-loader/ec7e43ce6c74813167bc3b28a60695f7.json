{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\reeke\\\\WebstormProjects\\\\bikes\\\\client\\\\src\\\\components\\\\app\\\\app.js\";\nimport React, { useState, useEffect } from 'react';\nimport List from '../list/list';\nimport ItemAddForm from \"../form/form\";\nimport Service from \"../../services/api-service\";\nconst ApiService = new Service();\n\nconst App = () => {\n  const [appState, setAppState] = useState([]);\n\n  const fetchAndUpdateState = async () => {\n    const allBikes = await ApiService.getAllBikes();\n    setAppState(allBikes);\n  };\n\n  const updateApp = async () => {\n    fetchAndUpdateState();\n  };\n\n  React.useEffect(fetchAndUpdateState, []);\n\n  const onToggleRent = id => {\n    console.log(id); // запапатчити \n    // і апдейнути updateApp();\n  };\n\n  const onDelete = id => {\n    console.log(id);\n    ApiService.deleteBike(id);\n    updateApp();\n  };\n\n  const availableBikes = appState.filter(item => item.available === true);\n  const rentedBikes = appState.filter(item => item.available === false);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 mb-2 bg-light text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updateApp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \" Awesome Bike Rental\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ItemAddForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    available: true,\n    data: rentedBikes,\n    onDelete: onDelete,\n    onToggleRent: onToggleRent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    data: availableBikes,\n    onDelete: onDelete,\n    onToggleRent: onToggleRent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/reeke/WebstormProjects/bikes/client/src/components/app/app.js"],"names":["React","useState","useEffect","List","ItemAddForm","Service","ApiService","App","appState","setAppState","fetchAndUpdateState","allBikes","getAllBikes","updateApp","onToggleRent","id","console","log","onDelete","deleteBike","availableBikes","filter","item","available","rentedBikes"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AAEA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AAGA,MAAMC,UAAU,GAAG,IAAID,OAAJ,EAAnB;;AAEA,MAAME,GAAG,GAAG,MAAM;AACd,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMS,mBAAmB,GAAG,YAAY;AACpC,UAAMC,QAAQ,GAAG,MAAML,UAAU,CAACM,WAAX,EAAvB;AACAH,IAAAA,WAAW,CAACE,QAAD,CAAX;AACH,GAHD;;AAIA,QAAME,SAAS,GAAG,YAAY;AAC1BH,IAAAA,mBAAmB;AACtB,GAFD;;AAGAV,EAAAA,KAAK,CAACE,SAAN,CAAgBQ,mBAAhB,EAAqC,EAArC;;AAEA,QAAMI,YAAY,GAAIC,EAAD,IAAQ;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ,EADyB,CAEzB;AACA;AACH,GAJD;;AAMA,QAAMG,QAAQ,GAAIH,EAAD,IAAQ;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACAT,IAAAA,UAAU,CAACa,UAAX,CAAsBJ,EAAtB;AACAF,IAAAA,SAAS;AACZ,GAJD;;AAMA,QAAMO,cAAc,GAAGZ,QAAQ,CAACa,MAAT,CAAgBC,IAAI,IAAKA,IAAI,CAACC,SAAL,KAAmB,IAA5C,CAAvB;AACA,QAAMC,WAAW,GAAGhB,QAAQ,CAACa,MAAT,CAAgBC,IAAI,IAAKA,IAAI,CAACC,SAAL,KAAmB,KAA5C,CAApB;AAEA,sBACI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,OAAO,EAAEV,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,IAAD;AACI,IAAA,SAAS,MADb;AAEI,IAAA,IAAI,EAAEW,WAFV;AAGI,IAAA,QAAQ,EAAEN,QAHd;AAII,IAAA,YAAY,EAAEJ,YAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAQI,oBAAC,IAAD;AACI,IAAA,IAAI,EAAEM,cADV;AAEI,IAAA,QAAQ,EAAEF,QAFd;AAGI,IAAA,YAAY,EAAEJ,YAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CAHJ,CADJ;AAoBH,CA/CD;;AAiDA,eAAeP,GAAf","sourcesContent":["import React, {useState, useEffect } from 'react';\r\n\r\nimport List from '../list/list';\r\nimport ItemAddForm from \"../form/form\";\r\nimport Service from \"../../services/api-service\";\r\n\r\n\r\nconst ApiService = new Service()\r\n\r\nconst App = () => {\r\n    const [appState, setAppState] = useState([]);\r\n\r\n    const fetchAndUpdateState = async () => {\r\n        const allBikes = await ApiService.getAllBikes();\r\n        setAppState(allBikes);\r\n    }\r\n    const updateApp = async () => {\r\n        fetchAndUpdateState();\r\n    }\r\n    React.useEffect(fetchAndUpdateState, []);\r\n\r\n    const onToggleRent = (id) => {\r\n        console.log(id);\r\n        // запапатчити \r\n        // і апдейнути updateApp();\r\n    }\r\n\r\n    const onDelete = (id) => {\r\n        console.log(id);\r\n        ApiService.deleteBike(id);\r\n        updateApp();\r\n    }\r\n\r\n    const availableBikes = appState.filter(item =>  item.available === true);\r\n    const rentedBikes = appState.filter(item =>  item.available === false);\r\n\r\n    return (\r\n        <div className=\"p-3 mb-2 bg-light text-dark\">\r\n            <button onClick={updateApp}>Update</button>\r\n            <h1> Awesome Bike Rental</h1>\r\n            <div>\r\n                <ItemAddForm />\r\n                <List\r\n                    available\r\n                    data={rentedBikes}\r\n                    onDelete={onDelete}\r\n                    onToggleRent={onToggleRent}\r\n                />\r\n                <List\r\n                    data={availableBikes}\r\n                    onDelete={onDelete}\r\n                    onToggleRent={onToggleRent}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}