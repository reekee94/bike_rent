{"ast":null,"code":"export default class ApiService {\n  constructor() {\n    this._apiBase = 'http://localhost:5000';\n\n    this.getResource = async url => {\n      const res = await fetch(`${this._apiBase}${url}`);\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this.deleteData = async (url, data) => {\n      const res = await fetch(`${this._apiBase}${url}, {\n            method: 'DELETE'\n        }`);\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url} +\n                , received ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this.postData = async (url, data) => {\n      const res = await fetch(`${this._apiBase}${url}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n\n      });\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n\n      return await res.json(); // parses JSON response into native JavaScript objects\n    };\n\n    this.getAllBikes = async () => {\n      const res = await this.getResource(`/bike/`);\n      return res;\n    };\n\n    this.getBike = async id => {\n      const person = await this.getResource(`/bike/${id}/`);\n      return this._transformPerson(person);\n    };\n\n    this.postBike = async data => {\n      const res = await this.postData(`/bike/`, data);\n      return res.results;\n    };\n\n    this.deleteBike = async id => {\n      const res = await this.deleteData(`/bike/${id}/`);\n      return res.results;\n    };\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/reeke/WebstormProjects/bikes/client/src/services/api-service.js"],"names":["ApiService","_apiBase","getResource","url","res","fetch","ok","Error","status","json","deleteData","data","postData","method","headers","body","JSON","stringify","getAllBikes","getBike","id","person","_transformPerson","postBike","results","deleteBike"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAAA;AAAA,SAE5BC,QAF4B,GAEjB,uBAFiB;;AAAA,SAK5BC,WAL4B,GAKd,MAAOC,GAAP,IAAe;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,QAAS,GAAEE,GAAI,EAAxB,CAAvB;;AAEA,UAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkBJ,GAAI,EAAvB,GACX,cAAaC,GAAG,CAACI,MAAO,EADvB,CAAN;AAEH;;AACD,aAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACH,KAb2B;;AAAA,SAc5BC,UAd4B,GAcf,OAAOP,GAAP,EAAYQ,IAAZ,KAAqB;AAC9B,YAAMP,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,QAAS,GAAEE,GAAI;;UAAxB,CAAvB;;AAGA,UAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkBJ,GAAI;6BACtBC,GAAG,CAACI,MAAO,EADtB,CAAN;AAEH;;AACD,aAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACH,KAvB2B;;AAAA,SAyB5BG,QAzB4B,GAyBjB,OAAOT,GAAP,EAAYQ,IAAZ,KAAqB;AAC5B,YAAMP,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,QAAS,GAAEE,GAAI,EAAxB,EAA2B;AAC9CU,QAAAA,MAAM,EAAE,MADsC;AAE9CC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,yCAA+B;AAF1B,SAFqC;AAM9CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CANwC,CAMnB;;AANmB,OAA3B,CAAvB;;AAQA,UAAI,CAACP,GAAG,CAACE,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkBJ,GAAI,EAAvB,GACX,cAAaC,GAAG,CAACI,MAAO,EADvB,CAAN;AAEH;;AACD,aAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb,CAb4B,CAaH;AAC5B,KAvC2B;;AAAA,SAyC5BS,WAzC4B,GAyCd,YAAY;AACtB,YAAMd,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAkB,QAAlB,CAAlB;AACA,aAAOE,GAAP;AACH,KA5C2B;;AAAA,SA8C5Be,OA9C4B,GA8ClB,MAAOC,EAAP,IAAc;AACpB,YAAMC,MAAM,GAAG,MAAM,KAAKnB,WAAL,CAAkB,SAAQkB,EAAG,GAA7B,CAArB;AACA,aAAO,KAAKE,gBAAL,CAAsBD,MAAtB,CAAP;AACH,KAjD2B;;AAAA,SAmD5BE,QAnD4B,GAmDjB,MAAOZ,IAAP,IAAgB;AACvB,YAAMP,GAAG,GAAG,MAAM,KAAKQ,QAAL,CAAe,QAAf,EAAwBD,IAAxB,CAAlB;AACA,aAAOP,GAAG,CAACoB,OAAX;AACH,KAtD2B;;AAAA,SAwD5BC,UAxD4B,GAwDf,MAAOL,EAAP,IAAc;AACvB,YAAMhB,GAAG,GAAG,MAAM,KAAKM,UAAL,CAAiB,SAAQU,EAAG,GAA5B,CAAlB;AACA,aAAOhB,GAAG,CAACoB,OAAX;AACH,KA3D2B;AAAA;;AAAA;AA4D/B","sourcesContent":["export default class ApiService {\r\n\r\n    _apiBase = 'http://localhost:5000';\r\n\r\n\r\n    getResource = async (url) => {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    };\r\n    deleteData = async (url, data) => {\r\n        const res = await fetch(`${this._apiBase}${url}, {\r\n            method: 'DELETE'\r\n        }`);\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url} +\r\n                , received ${res.status}`);\r\n        }\r\n        return await res.json();\r\n    }\r\n\r\n    postData = async (url, data) => {\r\n        const res = await fetch(`${this._apiBase}${url}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            },\r\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n\r\n    getAllBikes = async () => {\r\n        const res = await this.getResource(`/bike/`);\r\n        return res;\r\n    };\r\n\r\n    getBike = async (id) => {\r\n        const person = await this.getResource(`/bike/${id}/`);\r\n        return this._transformPerson(person);\r\n    };\r\n\r\n    postBike = async (data) => {\r\n        const res = await this.postData(`/bike/`, data);\r\n        return res.results\r\n    };\r\n\r\n    deleteBike = async (id) => {\r\n        const res = await this.deleteData(`/bike/${id}/`);\r\n        return res.results\r\n    };\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}