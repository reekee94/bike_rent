{"ast":null,"code":"export default class ApiService {\n  constructor() {\n    this._apiBase = 'http://localhost:5000';\n\n    this.getResource = async url => {\n      const res = await fetch(`${this._apiBase}${url}`);\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n\n      return await res.json();\n    };\n\n    this.postData = async (url, data) => {\n      const res = await fetch(`${this._apiBase}${url}`, {\n        method: 'POST',\n        body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n\n      });\n\n      if (!res.ok) {\n        throw new Error(`Could not fetch ${url}` + `, received ${res.status}`);\n      }\n\n      return await res.json(); // parses JSON response into native JavaScript objects\n    };\n\n    this.getAllBikes = async () => {\n      const res = await this.getResource(`/bike/`);\n      return res.results;\n    };\n\n    this.getBike = async id => {\n      const person = await this.getResource(`/bike/${id}/`);\n      return this._transformPerson(person);\n    };\n\n    this.postBike = async data => {\n      const res = await this.postData(`/bike/`, data);\n      return res.results;\n    };\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/reeke/WebstormProjects/bikes/client/src/services/api-service.js"],"names":["ApiService","_apiBase","getResource","url","res","fetch","ok","Error","status","json","postData","data","method","body","JSON","stringify","getAllBikes","results","getBike","id","person","_transformPerson","postBike"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAAA;AAAA,SAE5BC,QAF4B,GAEjB,uBAFiB;;AAAA,SAK5BC,WAL4B,GAKd,MAAOC,GAAP,IAAe;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,QAAS,GAAEE,GAAI,EAAxB,CAAvB;;AAEA,UAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkBJ,GAAI,EAAvB,GACX,cAAaC,GAAG,CAACI,MAAO,EADvB,CAAN;AAEH;;AACD,aAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACH,KAb2B;;AAAA,SAe5BC,QAf4B,GAejB,OAAOP,GAAP,EAAYQ,IAAZ,KAAqB;AAC5B,YAAMP,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,QAAS,GAAEE,GAAI,EAAxB,EAA2B;AAC9CS,QAAAA,MAAM,EAAE,MADsC;AAE9CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAFwC,CAEnB;;AAFmB,OAA3B,CAAvB;;AAIA,UAAI,CAACP,GAAG,CAACE,EAAT,EAAa;AACT,cAAM,IAAIC,KAAJ,CAAW,mBAAkBJ,GAAI,EAAvB,GACX,cAAaC,GAAG,CAACI,MAAO,EADvB,CAAN;AAEH;;AACD,aAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb,CAT4B,CASH;AAC5B,KAzB2B;;AAAA,SA2B5BO,WA3B4B,GA2Bd,YAAY;AACtB,YAAMZ,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAkB,QAAlB,CAAlB;AACA,aAAOE,GAAG,CAACa,OAAX;AACH,KA9B2B;;AAAA,SAgC5BC,OAhC4B,GAgClB,MAAOC,EAAP,IAAc;AACpB,YAAMC,MAAM,GAAG,MAAM,KAAKlB,WAAL,CAAkB,SAAQiB,EAAG,GAA7B,CAArB;AACA,aAAO,KAAKE,gBAAL,CAAsBD,MAAtB,CAAP;AACH,KAnC2B;;AAAA,SAqC5BE,QArC4B,GAqCjB,MAAOX,IAAP,IAAgB;AACvB,YAAMP,GAAG,GAAG,MAAM,KAAKM,QAAL,CAAe,QAAf,EAAwBC,IAAxB,CAAlB;AACA,aAAOP,GAAG,CAACa,OAAX;AACH,KAxC2B;AAAA;;AAAA;AA2C/B","sourcesContent":["export default class ApiService {\r\n\r\n    _apiBase = 'http://localhost:5000';\r\n\r\n\r\n    getResource = async (url) => {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    };\r\n\r\n    postData = async (url, data) => {\r\n        const res = await fetch(`${this._apiBase}${url}`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n\r\n    getAllBikes = async () => {\r\n        const res = await this.getResource(`/bike/`);\r\n        return res.results\r\n    };\r\n\r\n    getBike = async (id) => {\r\n        const person = await this.getResource(`/bike/${id}/`);\r\n        return this._transformPerson(person);\r\n    };\r\n\r\n    postBike = async (data) => {\r\n        const res = await this.postData(`/bike/`, data);\r\n        return res.results\r\n    };\r\n\r\n\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}